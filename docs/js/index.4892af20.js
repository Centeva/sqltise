(function(e){function t(t){for(var o,r,c=t[0],i=t[1],l=t[2],u=0,_=[];u<c.length;u++)r=c[u],s[r]&&_.push(s[r][0]),s[r]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);m&&m(t);while(_.length)_.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},s={index:0},a=[];function r(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-ae4225cc":"d1a518dc"}[e]+".js"}var c={};var i={ec67:function(){return{"./csv2sql":{__wbg_log_03472dbc351a4f29:function(e,t){return o["d1dd"].exports["__wbg_log_03472dbc351a4f29"](e,t)},__wbg_alert_2d30aae8e03ae5fd:function(e,t){return o["d1dd"].exports["__wbg_alert_2d30aae8e03ae5fd"](e,t)},__wbindgen_json_serialize:function(e,t){return o["d1dd"].exports["__wbindgen_json_serialize"](e,t)},__wbindgen_string_new:function(e,t){return o["d1dd"].exports["__wbindgen_string_new"](e,t)},__wbindgen_object_drop_ref:function(e){return o["d1dd"].exports["__wbindgen_object_drop_ref"](e)},__wbindgen_json_parse:function(e,t){return o["d1dd"].exports["__wbindgen_json_parse"](e,t)},__wbindgen_string_get:function(e,t){return o["d1dd"].exports["__wbindgen_string_get"](e,t)},__wbindgen_object_clone_ref:function(e){return o["d1dd"].exports["__wbindgen_object_clone_ref"](e)},__wbindgen_throw:function(e,t){return o["d1dd"].exports["__wbindgen_throw"](e,t)},__wbg_call_720151a19a4c6808:function(e,t,n){return o["d1dd"].exports["__wbg_call_720151a19a4c6808"](e,t,n)},__wbg_newnoargs_a6ad1b52f5989ea9:function(e,t){return o["d1dd"].exports["__wbg_newnoargs_a6ad1b52f5989ea9"](e,t)},__wbg_forEach_7796ea23499aa552:function(e,t,n){return o["d1dd"].exports["__wbg_forEach_7796ea23499aa552"](e,t,n)},__wbg_message_0ff90cbb5270c176:function(e){return o["d1dd"].exports["__wbg_message_0ff90cbb5270c176"](e)},__wbg_name_dddf7a57ae3f9867:function(e){return o["d1dd"].exports["__wbg_name_dddf7a57ae3f9867"](e)},__wbg_apply_823defaa2a295bb4:function(e,t,n,s){return o["d1dd"].exports["__wbg_apply_823defaa2a295bb4"](e,t,n,s)},__wbg_call_7aced47e67a8c62d:function(e,t,n,s){return o["d1dd"].exports["__wbg_call_7aced47e67a8c62d"](e,t,n,s)},__wbg_new_bdd94b8735e4f66d:function(e,t){return o["d1dd"].exports["__wbg_new_bdd94b8735e4f66d"](e,t)},__wbg_resolve_b2d9398056dbfe64:function(e){return o["d1dd"].exports["__wbg_resolve_b2d9398056dbfe64"](e)},__wbg_then_c75e723ffb976395:function(e,t){return o["d1dd"].exports["__wbg_then_c75e723ffb976395"](e,t)},__wbindgen_cb_drop:function(e){return o["d1dd"].exports["__wbindgen_cb_drop"](e)},__wbg_error_cc95a3d302735ca3:function(e,t){return o["d1dd"].exports["__wbg_error_cc95a3d302735ca3"](e,t)},__wbindgen_number_new:function(e){return o["d1dd"].exports["__wbindgen_number_new"](e)},__wbg_String_5380427aff8fe7c7:function(e,t){return o["d1dd"].exports["__wbg_String_5380427aff8fe7c7"](e,t)},__wbg_log_74d904c418cf24db:function(e,t){return o["d1dd"].exports["__wbg_log_74d904c418cf24db"](e,t)},__wbg_self_1ec1c3e6d75f31d7:function(e){return o["d1dd"].exports["__wbg_self_1ec1c3e6d75f31d7"](e)},__wbindgen_jsval_eq:function(e,t){return o["d1dd"].exports["__wbindgen_jsval_eq"](e,t)},__wbg_static_accessor_document_b0c76025fc904ba5:function(){return o["d1dd"].exports["__wbg_static_accessor_document_b0c76025fc904ba5"]()},__wbg_getElementById_b568d9288b16b48f:function(e,t,n){return o["d1dd"].exports["__wbg_getElementById_b568d9288b16b48f"](e,t,n)},__wbg_setinnerhtml_bc8921a1ce6b1b82:function(e,t,n){return o["d1dd"].exports["__wbg_setinnerhtml_bc8921a1ce6b1b82"](e,t,n)},__wbg_innerhtml_12e39d90d691cea1:function(e,t){return o["d1dd"].exports["__wbg_innerhtml_12e39d90d691cea1"](e,t)},__wbg_stack_a8569ef64277dd4e:function(e){return o["d1dd"].exports["__wbg_stack_a8569ef64277dd4e"](e)},__wbg_stack_27fca1c99e84b66f:function(e,t){return o["d1dd"].exports["__wbg_stack_27fca1c99e84b66f"](e,t)},__wbindgen_closure_wrapper732:function(e,t,n){return o["d1dd"].exports["__wbindgen_closure_wrapper732"](e,t,n)}}}}};function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n=s[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,o){n=s[e]=[t,o]});t.push(n[2]=o);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(e),a=function(t){u.onerror=u.onload=null,clearTimeout(_);var n=s[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");r.type=o,r.request=a,n[1](r)}s[e]=void 0}};var _=setTimeout(function(){a({type:"timeout",target:u})},12e4);u.onerror=u.onload=a,document.head.appendChild(u)}var d={"chunk-ae4225cc":["ec67"]}[e]||[];return d.forEach(function(e){var n=c[e];if(n)t.push(n);else{var o,s=i[e](),a=fetch(l.p+""+{ec67:"9729333fb10d1322e706"}[e]+".module.wasm");if(s instanceof Promise&&"function"===typeof WebAssembly.compileStreaming)o=Promise.all([WebAssembly.compileStreaming(a),s]).then(function(e){return WebAssembly.instantiate(e[0],e[1])});else if("function"===typeof WebAssembly.instantiateStreaming)o=WebAssembly.instantiateStreaming(a,s);else{var r=a.then(function(e){return e.arrayBuffer()});o=r.then(function(e){return WebAssembly.instantiate(e,s)})}t.push(c[e]=o.then(function(t){return l.w[e]=(t.instance||t).exports}))}}),Promise.all(t)},l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/sqltise/",l.oe=function(e){throw console.error(e),e},l.w={};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],_=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=_;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("64a9"),s=n.n(o);s.a},"39b9":function(e,t,n){"use strict";var o=n("c825"),s=n.n(o);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("7514"),n("7f7f");var o=n("7618"),s=n("5176"),a=n.n(s),r=(n("cadf"),n("551c"),n("097d"),n("2b0e")),c=n("2f62"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("SQLTISE")]),e.loaded?n("Reset"):e._e(),n("div",{staticClass:"transition-wrapper"},[n("transition",{attrs:{name:"zoom"}},[e.loaded?e._e():n("LoadCsvFile")],1),n("transition",{attrs:{name:"zoom"}},[e.loaded&&!e.statements.done?n("SelectStatements"):e._e()],1),n("transition",{attrs:{name:"zoom"}},[e.statements.done&&!e.statements.columnSelectionsDone?n("ColumnSelections"):e._e()],1),n("transition",{attrs:{name:"zoom"}},[e.errors.length>0&&e.statements.columnSelectionsDone?n("SolveErrors"):e._e()],1),n("transition",{attrs:{name:"zoom"}},[0===e.errors.length&&e.statements.done&&e.statements.columnSelectionsDone&&0===e.downloads.length?n("div",[n("button",{staticClass:"generate-button",on:{click:e.generate}},[e._v("GENERATE")])]):e._e()])],1),e._l(e.downloads,function(t,o){return n("div",{key:o,staticClass:"generated-file"},[n("a",{attrs:{href:t.url,download:t.name}},[e._v("download "+e._s(t.name))])])}),e.debug?n("div",[n("h3",[e._v("Debug:")]),n("div",[n("pre",[e._v("Columns: "+e._s(e.columns))])]),n("div",[n("pre",[e._v("Statements: "+e._s(e.statements))])]),n("div",[n("pre",[e._v("Solved errors: "+e._s(e.error_solutions))])])]):e._e()],2)},l=[],u=n("cebc"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{ref:"fileform",attrs:{id:"fileform"}},[n("div",{staticClass:"file-upload"},[n("input",{ref:"files",staticClass:"csv-upload",attrs:{type:"file",id:"files",name:"csvfile",accept:"text/csv"},on:{change:e.fileSelected}}),n("div",{staticClass:"csv-upload-label",on:{click:e.selectfile}},[n("i",{staticClass:"fa fa-file-upload upload-icon"}),n("span",{ref:"filelabel"},[e._v("CHOOSE A FILE")])])]),n("div",[e._v("Load the csv file to use as the source")])])},d=[],m=(n("aef6"),{name:"LoadCsvFile",methods:Object(u["a"])({},Object(c["b"])(["LOAD_CSV"]),{fileSelected:function(e){var t=this,n=e.target.files;if(n.length>1)return alert("Too many files"),void this.$refs.fileform.reset();if(n.length<1)return alert("Need at least 1 file"),void this.$refs.fileform.reset();var o=n[0];if("text/csv"!==o.type){if("application/vnd.ms-excel"!==o.type)return alert("Not a csv file"),void this.$refs.fileform.reset();if(!o.name.endsWith(".csv"))return alert("Not a csv file"),void this.$refs.fileform.reset()}this.$refs.filelabel.textContent=o.name;var s=new FileReader;s.readAsText(o),s.onload=function(){t.LOAD_CSV(s.result)}},selectfile:function(){this.$refs.files.click()}})}),f=m,v=(n("bbd2"),n("2877")),p=Object(v["a"])(f,_,d,!1,null,"0eaad895",null);p.options.__file="LoadCsvFile.vue";var b=p.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"reset-button",on:{click:e.reset}},[e._v("RESET")])},h=[],w={name:"Reset",methods:Object(u["a"])({},Object(c["b"])(["RESET"]),{reset:function(){this.RESET()}}),computed:Object(u["a"])({},Object(c["c"])([]))},E=w,y=(n("cb9b"),Object(v["a"])(E,g,h,!1,null,"3285917e",null));y.options.__file="Reset.vue";var C=y.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"statement-selections"},[n("h3",[e._v("Statements")]),0===e.statements.value.length?n("div",[n("h5",[e._v("There are no statments")])]):e._e(),e.statements.value.length>0?n("div",{staticClass:"statement-header"},[n("div",[e._v("Type")]),n("div",[e._v("Name")]),n("div",[e._v("Table")]),n("div",[e._v("Delete")])]):e._e(),e._l(e.statements.value,function(t,o){return n("div",{key:o,staticClass:"statement"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"statement.type"}],staticClass:"statement-select",on:{change:function(n){var o=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(t,"type",n.target.multiple?o:o[0])}}},[n("option",[e._v("Insert")]),n("option",[e._v("Update")]),n("option",[e._v("Custom")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"statement.name"}],staticClass:"statement-input",domProps:{value:t.name},on:{input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.table,expression:"statement.table"}],staticClass:"statement-input",domProps:{value:t.table},on:{input:function(n){n.target.composing||e.$set(t,"table",n.target.value)}}}),n("button",{staticClass:"remove-button",on:{click:function(t){e.remove(o)}}},[n("i",{staticClass:"fa fa-trash"})])])}),n("input",{attrs:{type:"checkbox",id:"single-file"},domProps:{checked:e.onefile},on:{change:e.check_one_file}}),n("label",{attrs:{for:"single-file"}},[e._v("Generate all statements to a single file")]),n("div",{staticClass:"action-buttons"},[n("button",{staticClass:"statements-button",on:{click:e.add}},[e._v("Add Statement"),n("i",{staticClass:"fa fa-plus add-icon"})]),e.statements_complete(e.statements.value)?n("button",{staticClass:"statements-button",on:{click:e.done}},[e._v("Done"),n("i",{staticClass:"fa fa-check add-icon"})]):e._e()])],2)},S=[],O={name:"SelectStatements",methods:Object(u["a"])({},Object(c["b"])(["ADD_STATEMENT","REMOVE_STATEMENT","DONE_ADDING_STATEMENTS","CHANGE_ONE_FILE_SELECTION"]),{add:function(){this.ADD_STATEMENT()},done:function(){this.DONE_ADDING_STATEMENTS()},remove:function(e){this.REMOVE_STATEMENT(e)},statements_complete:function(e){return!(!e||0===e.length)&&e.every(function(e){return!!e.name&&!!e.table&&!!e.type})},check_one_file:function(){this.CHANGE_ONE_FILE_SELECTION(!this.onefile)}}),computed:Object(u["a"])({},Object(c["c"])(["statements","onefile"]))},N=O,A=(n("91df"),Object(v["a"])(N,x,S,!1,null,"69c83618",null));A.options.__file="SelectStatements.vue";var T=A.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"column-selections"},[n("h3",[e._v("Columns")]),e._l(e.statements.value,function(t,o){return n("div",{key:o,staticClass:"statement",attrs:{value:t.id}},["Custom"==t.type?n("div",[n("h3",[e._v(e._s(t.name)+" - Custom")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.custom,expression:"statement.custom"}],staticClass:"custom-input",domProps:{value:t.custom},on:{input:function(n){n.target.composing||e.$set(t,"custom",n.target.value)}}})]):e._e(),"Custom"!=t.type?n("div",[t.column_selections&&0!==t.column_selections.value.length?e._e():n("div",[n("h5",[e._v("There are no columns selected")])]),t.column_selections?n("div",[n("h3",[e._v(e._s(t.name)+" - ("+e._s(t.table)+")")]),t.column_selections&&t.column_selections.value.length>0?n("div",{staticClass:"columns-header"},[n("div",[e._v("Source")]),n("div",[e._v("Data")]),n("div",[e._v("Type")]),n("div",{attrs:{id:"small-column"}},[e._v("Use Source Name")]),n("div",[e._v("Destination Column")]),n("div",{attrs:{id:"small-column"}},[e._v("Delete")])]):e._e(),e._l(t.column_selections.value,function(t,s){return n("div",{key:s,staticClass:"columns"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.source,expression:"column.source"}],staticClass:"column-select",on:{change:function(n){var o=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(t,"source",n.target.multiple?o:o[0])}}},[n("option",[e._v("CSV")]),n("option",[e._v("FreeText")])]),t.source?e._e():n("input",{staticClass:"column-input",attrs:{disabled:""}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.data,expression:"column.data"},{name:"show",rawName:"v-show",value:"FreeText"==t.source,expression:"column.source == 'FreeText'"}],staticClass:"column-input",attrs:{type:"text"},domProps:{value:t.data},on:{input:function(n){n.target.composing||e.$set(t,"data",n.target.value)}}}),"CSV"==t.source?n("select",{directives:[{name:"model",rawName:"v-model",value:t.column,expression:"column.column"}],staticClass:"column-select",on:{change:function(n){var o=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(t,"column",n.target.multiple?o:o[0])}}},e._l(e.columns,function(t,o){return n("option",{key:o,domProps:{value:t.index}},[e._v(e._s(t.name))])}),0):e._e(),n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"column.type"}],staticClass:"column-select",on:{change:function(n){var o=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(t,"type",n.target.multiple?o:o[0])}}},[n("option",[e._v("Int")]),n("option",[e._v("Float")]),n("option",[e._v("Date")]),n("option",[e._v("DateTime")]),n("option",[e._v("VarChar")]),n("option",[e._v("PreFormatted")])]),n("div",{staticClass:"column-checkbox",attrs:{id:"small-column"}},["CSV"!=t.source?n("input",{directives:[{name:"model",rawName:"v-model",value:t.use_source,expression:"column.use_source"}],attrs:{type:"checkbox",id:"checkbox",disabled:""},domProps:{checked:Array.isArray(t.use_source)?e._i(t.use_source,null)>-1:t.use_source},on:{change:function(n){var o=t.use_source,s=n.target,a=!!s.checked;if(Array.isArray(o)){var r=null,c=e._i(o,r);s.checked?c<0&&e.$set(t,"use_source",o.concat([r])):c>-1&&e.$set(t,"use_source",o.slice(0,c).concat(o.slice(c+1)))}else e.$set(t,"use_source",a)}}}):e._e(),"CSV"==t.source?n("input",{directives:[{name:"model",rawName:"v-model",value:t.use_source,expression:"column.use_source"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.use_source)?e._i(t.use_source,null)>-1:t.use_source},on:{change:function(n){var o=t.use_source,s=n.target,a=!!s.checked;if(Array.isArray(o)){var r=null,c=e._i(o,r);s.checked?c<0&&e.$set(t,"use_source",o.concat([r])):c>-1&&e.$set(t,"use_source",o.slice(0,c).concat(o.slice(c+1)))}else e.$set(t,"use_source",a)}}}):e._e()]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"column.name"}],staticClass:"column-input",domProps:{value:t.name},on:{input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}}),n("button",{staticClass:"remove-button",attrs:{id:"small-column"},on:{click:function(t){e.remove({index:o,index2:s})}}},[n("i",{staticClass:"fa fa-trash"})])])}),n("button",{staticClass:"columns-button",on:{click:function(t){e.add(o)}}},[e._v("Add Column "),n("i",{staticClass:"fa fa-plus add-icon"})]),"Update"===t.type?n("table",{staticClass:"where-clause"},[e._m(0,!0),n("tbody",e._l(t.where_selections,function(t,s){return n("tr",{key:s},[0===s?n("td",{staticClass:"where-text"},[e._v("WHERE")]):e._e(),0!=s?n("td",{staticClass:"where-text"},[e._v("AND")]):e._e(),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"where.key"}],staticClass:"column-input",domProps:{value:t.key},on:{input:function(n){n.target.composing||e.$set(t,"key",n.target.value)}}})]),n("td",{staticClass:"equals"},[e._v("=")]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"where.value"}],staticClass:"column-select",on:{change:function(n){var o=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(t,"value",n.target.multiple?o:o[0])}}},e._l(e.columns,function(t,o){return n("option",{key:o,domProps:{value:t.index}},[e._v(e._s(t.name))])}),0)]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"where.type"}],staticClass:"column-select",on:{change:function(n){var o=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(t,"type",n.target.multiple?o:o[0])}}},[n("option",[e._v("Int")]),n("option",[e._v("Float")]),n("option",[e._v("Date")]),n("option",[e._v("DateTime")]),n("option",[e._v("VarChar")])])]),n("td",[n("button",{staticClass:"remove-button",attrs:{id:"small-column"},on:{click:function(t){e.remove_where({index:o,whereindex:s})}}},[n("i",{staticClass:"fa fa-trash"})])])])}),0)]):e._e(),"Update"===t.type?n("button",{staticClass:"columns-button",on:{click:function(t){e.add_where(o)}}},[e._v("Add Condition "),n("i",{staticClass:"fa fa-plus add-icon"})]):e._e()],2):e._e()]):e._e()])}),e.columns_complete(e.statements)?n("button",{staticClass:"columns-button",on:{click:e.done}},[e._v("Done "),n("i",{staticClass:"fa fa-check add-icon"})]):e._e()],2)},k=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th"),n("th",[e._v("DB Column")]),n("th"),n("th",[e._v("Source Column")]),n("th",[e._v("Type")])])])}],j=(n("ac6a"),{name:"ColumnSelections",methods:Object(u["a"])({},Object(c["b"])(["ADD_COLUMN","DONE_ADDING_COLUMNS","REMOVE_COLUMN","ADD_WHERE","REMOVE_WHERE"]),{add:function(e){this.ADD_COLUMN(e)},done:function(){this.DONE_ADDING_COLUMNS()},columns_complete:function(e){var t;return e.value.forEach(function(e){"Custom"==e.type&&(console.log("hmmm"),t=e.custom.length>0);var n=e.column_selections.value;return!(!n||0===n.length)&&(("Update"!==e.type||!e.where_selections.some(function(e){return!e.key||void 0==e.value||void 0==e.type}))&&(t=n.every(function(e){return(void 0!=e.column||"FreeText"==e.source)&&!!e.type&&(!!e.name||e.use_source)&&!(e.name&&e.use_source)}),t?void 0:t))}),t},remove:function(e){this.REMOVE_COLUMN(e)},remove_where:function(e){this.REMOVE_WHERE(e)},add_where:function(e){this.ADD_WHERE(e)}}),computed:Object(u["a"])({},Object(c["c"])(["columns","statements","selected_column"]))}),R=j,L=(n("39b9"),Object(v["a"])(R,D,k,!1,null,"c5765f46",null));L.options.__file="ColumnSelections.vue";var $=L.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-wrapper"},[n("table",{staticClass:"errors-table"},[e._m(0),n("tbody",e._l(e.errors,function(t,o){return n("tr",{key:o},[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.error_text,expression:"error.error_text"}],attrs:{type:"text"},domProps:{value:t.error_text},on:{input:function(n){n.target.composing||e.$set(t,"error_text",n.target.value)}}})]),n("td",[e._v(e._s(t.type))]),n("td",[e._v(e._s(t.rows.length))]),n("td",[n("button",{staticClass:"validate-button",on:{click:function(t){e.solve(o)}}},[e._v("Validate")])])])}),0)])])},P=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Invalid Data")]),n("th",[e._v("Type")]),n("th",[e._v("Count")]),n("th",[e._v("Action")])])])}],V={name:"SolveErrors",methods:Object(u["a"])({},Object(c["b"])(["SOLVE_ERROR"]),{solve:function(e){this.SOLVE_ERROR(e)}}),computed:Object(u["a"])({},Object(c["c"])(["errors","columns"]))},I=V,F=(n("5af1"),Object(v["a"])(I,M,P,!1,null,"82b234e0",null));F.options.__file="SolveErrors.vue";var U=F.exports,G={name:"app",computed:Object(u["a"])({},Object(c["c"])(["columns","loaded","statements","debug","errors","error_solutions","downloads"])),methods:Object(u["a"])({},Object(c["b"])(["GENERATE_SQL"]),{generate:function(){this.GENERATE_SQL()}}),components:{LoadCsvFile:b,Reset:C,SelectStatements:T,ColumnSelections:$,SolveErrors:U}},W=G,H=(n("034f"),Object(v["a"])(W,i,l,!1,null,null,null));H.options.__file="App.vue";var q=H.exports;r["a"].config.productionTip=!1,r["a"].use(c["a"]);var z=n.e("chunk-ae4225cc").then(n.bind(null,"d1dd")),B=function(){return{columns:[{name:"StateCode",index:0}],raw_csv:null,loaded:!1,statements:{done:!1,columnSelectionsDone:!1,nextid:0,value:[]},onefile:!0,error_solutions:[],errors:[],downloads:[]}},Q=new c["a"].Store({state:a()({},B()),mutations:{LOAD_CSV:function(e,t){z.then(function(n){var o=n.get_columns(t);o&&(e.columns=o.columns,e.raw_csv=t,e.loaded=!0)}).catch(console.error)},RESET:function(e){var t=a()(e,B());e=t},ADD_STATEMENT:function(e){var t=e.statements.nextid++,n={column_selections:{value:[],done:!1},id:t,type:null,name:"New Statement",table:"",custom:"",where_selections:[{key:"",value:null,type:null}]};e.statements.value.push(n)},ADD_WHERE:function(e,t){e.statements.value[t].where_selections.push({key:"",value:null,type:null})},REMOVE_WHERE:function(e,t){console.log("indexes: ",t),e.statements.value[t.index].where_selections.splice(t.whereindex,1)},REMOVE_STATEMENT:function(e,t){e.statements.value.splice(t,1)},CHANGE_ONE_FILE_SELECTION:function(e,t){e.onefile=t},DONE_ADDING_STATEMENTS:function(e){for(var t in e.statements.value)"Custom"==t.type&&(t.column_selections=null);e.statements.done=!0},ADD_COLUMN:function(e,t){e.statements.value[t].column_selections.value.push({source:null,data:"",column:null,name:null,type:null,use_source:!1})},DONE_ADDING_COLUMNS:function(e){e.statements.columnSelectionsDone=!0,z.then(function(t){var n=t.process_file(e.raw_csv,e.statements);n.value||console.log("Error Processing File: ",n),e.errors=n.value}).catch(console.error)},REMOVE_COLUMN:function(e,t){e.statements.value[t.index].column_selections.value.splice(t.index2,1)},SOLVE_ERROR:function(e,t){var n=e.errors[t].error_text,o=e.errors[t].type;z.then(function(s){var a=s.check_correction(n,o);a&&(e.error_solutions.push(e.errors[t]),e.errors.splice(t,1))}),console.log(e.error_solutions)},GENERATE_SQL:function(e){z.then(function(t){var n=t.generate_file(e.raw_csv,e.statements,{value:e.error_solutions},e.onefile);"array"==!Object(o["a"])(n)&&console.log("Error Generating File: ",n);var s=0;for(s;s<n.length;s++){var a=n[s];console.log("result:",a);var r=e.statements.value.find(function(e){return e.id==s}).name;console.log("file_name:",r);var c=new Blob([a],{type:"application/sql"}),i=window.URL.createObjectURL(c);e.downloads.push({name:r+".sql",url:i})}}).catch(console.error)}}});new r["a"]({store:Q,render:function(e){return e(q)}}).$mount("#app")},"5af1":function(e,t,n){"use strict";var o=n("f1e3"),s=n.n(o);s.a},"64a9":function(e,t,n){},"91df":function(e,t,n){"use strict";var o=n("ee0a"),s=n.n(o);s.a},adee:function(e,t,n){},bbd2:function(e,t,n){"use strict";var o=n("e57d"),s=n.n(o);s.a},c825:function(e,t,n){},cb9b:function(e,t,n){"use strict";var o=n("adee"),s=n.n(o);s.a},e57d:function(e,t,n){},ee0a:function(e,t,n){},f1e3:function(e,t,n){}});
//# sourceMappingURL=index.4892af20.js.map